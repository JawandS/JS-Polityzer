!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.formee={})}(this,function(e){function t(e){for(var t,n,i,l=0,o={},r=/(radio|checkbox)/i,u=/(file|reset|submit|button)/i;i=e.elements[l++];)if(i.name&&!i.disabled&&!u.test(i.type))if(n=i.name,"select-multiple"===i.type)for(o[n]=[],t=0;t<i.options.length;t++)i.options[t].selected&&o[n].push(i.options[t].value);else r.test(i.type)?i.checked&&(t=o[n],i="on"===i.value||i.value,o[n]=null==t&&0!==t?i:[].concat(t,i)):(i.value||0===i.value)&&(t=o[n],o[n]=null==t&&0!==t?i.value:[].concat(t,i.value));return o}function n(e,n,i){n=n||{};var l,o,r,u,a,s=!0,f={},d=t(e);for(r in i&&i.trim&&((l={})[i]=n[i],n=l),n)for(u=(n[r].test||n[r]).call(n[r],d[r],d),a=(o=(l=e.elements[r]).length?l:[l]).length;a--;)o[a].isValid=!0===u||(f[r]=u,s=!1);return e.isValid=s,f}e.bind=function(e,i){return i=i||{},e.serialize=t.bind(null,e),e.validate=n.bind(null,e,i.rules),e.onsubmit=function(t){return t.preventDefault(),t.errors=e.errors=e.validate(),e.isValid?i.onSubmit(t):i.onError(t)},e},e.serialize=t,e.validate=n});