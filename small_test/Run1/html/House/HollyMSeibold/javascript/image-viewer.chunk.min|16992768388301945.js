(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[7746],{29414:function(){},83559:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(27762),i=n.n(r),o=n(23788),a=n(40841),l=n.n(a),s=n(14166),p=n(17607),c=n(20776),u=n(98977),d=n(4637),h=n(76939),f=n(47734),g=n(35496),m=n(55472),v=n(10748);n(87308),n(29414);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=Object.defineProperty,x=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,P=function(e,t,n){return t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},j=function(e,t){for(var n in t||(t={}))E.call(t,n)&&P(e,n,t[n]);if(x)for(var r,i=y(x(t));!(r=i()).done;){n=r.value;I.call(t,n)&&P(e,n,t[n])}return e};(0,f.a)();var k=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleExpand=function(e){var t;e.preventDefault();var r=n.props,i=r.settings.onExpand,o=r.helpers,a=void 0===o?{}:o;null==(t=a.onViewerAction)||t.call(a,s.I,"Click","expand_image"),n.hasExpand()&&(null==i||i(n.props.blockKey))},n.scrollToAnchor=function(e){var t=n.props,r=t.componentData.config.link,i=(r=void 0===r?{}:r).anchor,o=t.customAnchorScroll;if(o)o(e,i);else{var a="viewer-"+i,l=document.getElementById(a);(0,c.sw)(a),(0,c.lR)(l)}},n.hasLink=function(){var e,t,r;return null==(r=null==(t=null==(e=n.props.componentData)?void 0:e.config)?void 0:t.link)?void 0:r.url},n.hasAnchor=function(){var e,t,r;return null==(r=null==(t=null==(e=n.props.componentData)?void 0:e.config)?void 0:t.link)?void 0:r.anchor},n.onKeyDown=function(e){"Enter"!==e.key&&" "!==e.key||n.props.getInPluginEditingMode||n.handleClick(e)},n.handleClick=function(e){if(n.hasLink())return null;n.hasAnchor()?(e.preventDefault(),e.stopPropagation(),n.scrollToAnchor(e)):n.handleExpand(e)},n.handleContextMenu=function(e){var t=n.props.componentData.disableDownload;return void 0!==t&&t&&e.preventDefault()},n.hasExpand=function(){var e=n.props,t=e.componentData,r=e.settings,i=!1;return void 0!==t.disableExpand?i=t.disableExpand:void 0!==r.disableExpand&&(i=r.disableExpand),!i&&r.onExpand},n.renderExpandIcon=function(){var e=n.props.styles,t=e.expandContainer,r=e.expandIcon;return i().createElement("div",{className:t},i().createElement(m.e,{className:r,onClick:n.handleExpand}))},n.getImgSize=function(e){var t=new Image;t.onload=function(){return n.setState({dimensions:{width:t.width,height:t.height}})},t.src=e},n._id=(0,p.uniqueId)("new-image"),n}(0,o.Z)(t,e);var n=t.prototype;return n.getImageDataUrl=function(){return this.props.dataUrl?this.props.dataUrl:null},n.renderTitle=function(e){return!!(e.config||{}).showTitle&&i().createElement("div",{className:l()(this.props.styles.imageTitle)},e&&e.title||"")},n.renderDescription=function(e){return!!(e.config||{}).showDescription&&i().createElement("div",{className:l()(this.props.styles.imageDescription)},e&&e.description||"")},n.renderCaption=function(e){var t=this.props,n=t.onCaptionChange,r=t.setFocusToBlock,o=t.setInPluginEditingMode,a=t.styles,s=a.imageCaption,p=a.link,c=l()(s,this.hasLink()&&p);return n?i().createElement(m.I,{setInPluginEditingMode:o,className:c,value:e,onChange:n,setFocusToBlock:r}):i().createElement("span",{dir:"auto",className:c},e)},n.shouldRenderCaption=function(){var e,t=this.props,n=t.getInPluginEditingMode,r=t.settings,i=t.componentData,o=t.defaultCaption,a=null==(e=i.metadata)?void 0:e.caption;if((0,p.includes)((0,p.get)(r,"toolbar.hidden"),"settings"))return!1;if(void 0===a||""===a&&!(null==n?void 0:n())||a===o)return!1;var l=i||s.D;return"original"!==l.config.size||!l.src||!l.src.width||l.src.width>=350},n.render=function(){var e,t,n,r,o,a,c=this.props,d=c.componentData,h=c.className,f=c.settings,m=c.setComponentUrl,v=c.helpers,y=c.getInPluginEditingMode,b=c.styles,w=c.isMobile,x=c.seoMode,E=c.accessibilityProps,I=d||s.D,P=d.metadata,k=d.config,C=(k=void 0===k?{}:k).alignment,_=k.width,D=k.size;P||(P={});var O=l()(b.imageWrapper,b.imageRatio,h,((e={})[b.pointer]=this.hasExpand(),e)),A=this.getImageDataUrl()||function(e,t){if("object"==typeof e)if(e.source){if("static"===e.source){if(e.url)return e.url;console.error("must provide src url when using static image source!",e)}else if("custom"===e.source){if(t)return t({file_name:e.file_name});console.error("must provide getImageUrl helper when using custom image source!",e)}}else if(e.file_name)return e.file_name;return e}(I.src,null==v?void 0:v.getImageUrl),S={};I.src&&f&&f.imageProps&&(S=(0,p.isFunction)(f.imageProps)?f.imageProps(I.src):f.imageProps);var $={};["data-pin-nopin","data-pin-url","data-pin-media"].forEach((function(e){return S[e]&&($[e]=S[e])})),null==m||m(A);var M=y,T=!("left"!==C&&"right"!==C||_||"small"===D||"original"===D||w),B={width:(null==(t=I.src)?void 0:t.width)||I.width||(null==(n=this.state)?void 0:n.dimensions.width),height:(null==(r=I.src)?void 0:r.height)||I.height||(null==(o=this.state)?void 0:o.dimensions.height)},N=B.width&&B.height;N||(0,u.y)()||this.getImgSize(A);var U="original"===D||w&&"inline"===D&&I.config.width&&I.config.width>150?{width:(null==(a=I.src)?void 0:a.width)+"px",maxWidth:"100%"}:{};return i().createElement("div",j({"data-hook":"imageViewer",className:b.imageContainer,onContextMenu:this.handleContextMenu,onKeyDown:this.onKeyDown},E),i().createElement("div",{className:O,id:this._id,"aria-label":P.alt,onClick:this.handleClick,onKeyDown:this.onKeyDown,style:j(j({"--dim-height":B.height,"--dim-width":B.width},T&&{width:"300px"}),U)},N&&i().createElement(g.E,j({id:A,containerId:this._id,displayMode:"fill",width:B.width,height:B.height,uri:A,alt:P.alt||"",socialAttrs:$,isSEOBot:!!x,imageStyles:{maxWidth:"100%"}},!M&&{placeholderTransition:x?void 0:"blur",shouldUseLQIP:!f.disableTransition})),this.hasExpand()&&this.renderExpandIcon()),this.renderTitle(I),this.renderDescription(I),this.shouldRenderCaption()&&this.renderCaption(P.caption))},t}(i().Component);function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,T=function(e,t,n){return t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},B=function(e){i().useEffect((function(){(0,d.Gu)(e.componentData,v)}),[e.componentData]);var t,n,r,o,a=(0,h.y)({styles:m.s,theme:e.theme}),l=(null==(r=null==(n=null==(t=e.componentData)?void 0:t.config)?void 0:n.link)?void 0:r.url)||function(){var t;return!(null==(t=e.componentData)?void 0:t.disableExpand)}()?{role:"button",tabIndex:0}:{};return i().createElement(k,(o=function(e,t){for(var n in t||(t={}))$.call(t,n)&&T(e,n,t[n]);if(S)for(var r,i=C(S(t));!(r=i()).done;)n=r.value,M.call(t,n)&&T(e,n,t[n]);return e}({},e),O(o,A({styles:a,accessibilityProps:l}))))}},55472:function(e,t,n){"use strict";n.d(t,{I:function(){return v},e:function(){return g},s:function(){return y}});var r=n(27762),i=n.n(r),o=n(23788),a=n(40841),l=n.n(a);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=Object.defineProperty,u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=function(e,t,n){return t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},g=function(e){return i().createElement("svg",function(e,t){for(var n in t||(t={}))d.call(t,n)&&f(e,n,t[n]);if(u)for(var r,i=s(u(t));!(r=i()).done;)n=r.value,h.call(t,n)&&f(e,n,t[n]);return e}({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},e),i().createElement("path",{d:"M15.071 8.371V4.585l-4.355 4.356a.2.2 0 0 1-.283 0l-.374-.374a.2.2 0 0 1 0-.283l4.356-4.355h-3.786a.2.2 0 0 1-.2-.2V3.2c0-.11.09-.2.2-.2H16v5.371a.2.2 0 0 1-.2.2h-.529a.2.2 0 0 1-.2-.2zm-6.5 6.9v.529a.2.2 0 0 1-.2.2H3v-5.371c0-.11.09-.2.2-.2h.529c.11 0 .2.09.2.2v3.786l4.355-4.356a.2.2 0 0 1 .283 0l.374.374a.2.2 0 0 1 0 .283L4.585 15.07h3.786c.11 0 .2.09.2.2z",fill:"#000",fillRule:"nonzero"}))},m="gswUK",v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleFocus=function(e){e.stopPropagation(),t.props.setFocusToBlock(),t.props.setInPluginEditingMode(!0)},t.handleBlur=function(){return t.props.setInPluginEditingMode(!1)},t.handleKeyPress=function(e){var n=t.props,r=n.setFocusToBlock,i=n.value;"Enter"===e.key&&r&&""!==i&&(t.handleBlur(),r())},t.onChange=function(e){var n,r;return null==(r=(n=t.props).onChange)?void 0:r.call(n,e.target.value)},t}return(0,o.Z)(t,e),t.prototype.render=function(){var e=l()(m,this.props.className);return i().createElement("textarea",{className:e,value:this.props.value,onChange:this.onChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,dir:"auto",rows:1})},t}(r.Component);v.defaultProps={setInPluginEditingMode:function(){return!1},setFocusToBlock:function(){return!1}};var y={fontElementMap:"JhrXW",imageContainer:"Q6a5A",expandContainer:"PiI7v",expandIcon:"Nh3F1",pointer:"XHhj0",imageWrapper:"vBPBf",imageRatio:"L9OMM",image:"wfdG8",imageOverlay:"FuYgP",imageCaption:"zoci8",imagePreload:"EBiai",imageHighres:"IFfEr",onlyHighRes:"iAg93",image_loading:"HKB9t"}},45503:function(){},10748:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://wix-rich-content/image-content-data-schema.json","type":"object","required":["src"],"properties":{"config":{"$id":"/properties/config","type":"object","title":"configuration","properties":{"size":{"$id":"/properties/config/properties/size","enum":["content","small","original","fullWidth","inline"],"title":"size","examples":["content","small","original","fullWidth","inline"]},"alignment":{"$id":"/properties/config/properties/alignment","enum":["left","right","center",""],"title":"alignment","examples":["left","right","center"]},"showTitle":{"$id":"/properties/config/properties/showTitle","type":"boolean","title":"show title","default":false,"examples":[true]},"showDescription":{"$id":"/properties/config/properties/showDescription","type":"boolean","title":"show description","default":false,"examples":[true]},"anchor":{"$id":"/properties/config/properties/anchor","type":"string","title":"anchor","examples":["2jlo1"]},"link":{"$id":"/properties/config/properties/link","type":["object","null"],"properties":{"url":{"$id":"/properties/config/properties/link/properties/url","type":"string","title":"URL","examples":["wix.com"]},"target":{"$id":"/properties/config/properties/link/properties/target","enum":["_blank","_self","_top","_unrecognized"],"title":"link target","examples":["_blank"]},"rel":{"$id":"/properties/config/properties/link/properties/rel","type":"string","title":"link rel","default":"noopener","examples":["nofollow","noreferrer"]}}}}},"src":{"$id":"/properties/src","type":["object","string","null"],"properties":{"id":{"$id":"/properties/src/properties/id","type":"string","title":"id","examples":["8310d26374ed948918b9914ea076e411"]},"original_file_name":{"$id":"/properties/src/properties/original_file_name","type":"string","title":"The original file name","examples":["8bb438_b5957febd0ed45d3be9a0e91669c65b4.jpg"]},"file_name":{"$id":"/properties/src/properties/file_name","type":"string","title":"The file name","examples":["8bb438_b5957febd0ed45d3be9a0e91669c65b4.jpg"]},"width":{"$id":"/properties/src/properties/width","type":["integer","string","null"],"title":"image width","default":0,"examples":[1621]},"height":{"$id":"/properties/src/properties/height","type":["integer","string","null"],"title":"image height","default":0,"examples":[1081]}}},"metadata":{"$id":"/properties/metadata","type":"object","properties":{"alt":{"$id":"/properties/metadata/properties/alt","type":"string","title":"alt text","examples":["alt"]},"caption":{"$id":"/properties/metadata/properties/caption","type":"string","title":"Image caption","examples":["Wanted dead or alive"]}}}}}')}}]);
//# sourceMappingURL=image-viewer.chunk.min.js.map